{% load static %}
{% load nominopolitan %}

<!-- Selection Status Partial - Updates via HTMX -->
<div id="selection-status-container">
    <div class="flex items-center justify-between mb-4">
        <div class="text-sm">
            {% if selected_count > 0 %}
                <span class="badge badge-primary">{{ selected_count }} selected</span>
                <span class="text-xs text-base-content/70 ml-2">
                    {% if selected_count == 1 %}1 record{% else %}{{ selected_count }} records{% endif %} selected
                </span>
            {% else %}
                <span class="text-xs text-base-content/70">No records selected</span>
            {% endif %}
        </div>
        
        {% if selected_count > 0 %}
            <button type="button" 
                    hx-post="{% url 'clear_selection_view' model_name=model_name %}"
                    hx-target="#selection-status-container"
                    hx-swap="outerHTML"
                    hx-include="[name='preserved_params']"
                    class="btn btn-ghost btn-xs"
                    title="Clear selection">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
                Clear
            </button>
        {% endif %}
    </div>

    <!-- Hidden preserved parameters -->
    <input type="hidden" name="preserved_params" value="{{ preserved_params|default:'' }}">
</div>